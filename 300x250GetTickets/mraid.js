/*! mmjs - 1.8.0 - a60e661 - 2015-01-06 */
var MMAppStore,MMBanner,MMBrand,MMBridgeObject,MMCachedVideo,MMCalendar,MMCommand,MMDevice,MMInlineVideo,MMInterstitial,MMJS,MMJSUtils,MMListenerManager,MMMedia,MMNotification,MMPassbook,MMSDKInterface,MMSocial,MMSpeechkit,MRAID,_ref,_ref1,_ref10,_ref11,_ref12,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};String.prototype.trim=function(){return this.replace(RegExp("^\\s+|\\s+$","g"),"")},String.prototype.titleCase=function(){return this.replace(RegExp("\\w\\S*","g"),function(str){return str.charAt(0).toUpperCase().concat(str.substr(1).toLowerCase())})},"undefined"==typeof MMJS&&(MMJSUtils=function(){function MMJSUtils(){}return MMJSUtils.ios_version=null,MMJSUtils.platform=null,MMJSUtils.sdk_version=null,MMJSUtils.params=null,MMJSUtils.isBridgeEnabled=function(){return"unknown"!==MMDevice.readyState?!0:!1},MMJSUtils.isPre46=function(a){return this.isBridgeEnabled()===!0?!1:null==a?!0:this.underVersion(a,"4.6.0")},MMJSUtils.underVersion=function(versionString,minVersion){var i,res,result,v1,v2;if(null==versionString)return!1;for(v1=versionString.split("."),v2=minVersion.split("."),i=0,result=0;i<Math.min(v1.length,v2.length);){if(res=v1[i]-v2[i],0!==res){result=res;break}i++}return 0>result},MMJSUtils.isVersion=function(versionString){var i,res,result,v1,v2;if(null==versionString)return!1;for(v1=versionString.split("."),v2=this.sdkVersion().split("."),i=0,result=0;i<Math.min(v1.length,v2.length);){if(res=v1[i]-v2[i],0!==res){result=res;break}i++}return 0===result},MMJSUtils.isIOS=function(){return"ios"===this.getPlatform()},MMJSUtils.isWindows=function(){return"windows"===this.getPlatform()},MMJSUtils.isBlackBerry=function(){return"blackberry"===this.getPlatform()},MMJSUtils.isAndroid=function(){return"android"===this.getPlatform()},MMJSUtils.getPlatform=function(){return null!=this.platform?this.platform:(this.platform=null!=navigator.platform.match(/(Android)/)?"android":null!=navigator.platform.match(/^(iPad|iPod|iPhone)/)?"ios":"android",this.platform)},MMJSUtils.sdkVersion=function(){var mmisdk,params;return null!=this.sdk_version?this.sdk_version:null!=MMJS.sdkVersion?(this.sdk_verison=MMJS.sdkVersion,this.sdk_version):(params=this.getParams(),null!=params.sdkversion?(mmisdk=params.sdkversion.split("-"),this.sdk_version=mmisdk[0],this.sdk_version):null)},MMJSUtils.simulateRedirect=function(url){var eventFire,linkTag;return linkTag=document.createElement("a"),linkTag.id="mm_simulateLink",linkTag.setAttribute("href",url),linkTag.setAttribute("style","opacity:0"),document.body.appendChild(linkTag),eventFire=function(el,etype){var evObj;return el.fireEvent?el.fireEvent("on"+etype):(evObj=document.createEvent("Events"),evObj.initEvent(etype,!0,!1),el.dispatchEvent(evObj))},window.setTimeout(function(){var element;return element=linkTag,eventFire(linkTag,"click")},1)},MMJSUtils.modDuration=function(duration){return this.isAndroid()&&100>duration?1e3*duration:duration},MMJSUtils.getParams=function(){var n,name,pair,params,qs,value,_i,_len,_ref,_ref1;if(null!=this.params)return this.params;if(params={},qs=window.location.search.substring(1),qs.length)for(_ref=function(){var _j,_len,_ref,_results;for(_ref=qs.split("&"),_results=[],_j=0,_len=_ref.length;_len>_j;_j++)pair=_ref[_j],_results.push(pair.split("="));return _results}(),_i=0,_len=_ref.length;_len>_i;_i++)_ref1=_ref[_i],name=_ref1[0],value=_ref1[1],n=name.replace("mm_",""),null!=value&&(params[n]=value);return this.params=params,this.params},MMJSUtils.consoleLog=function(_msg,_useAlert){return null==_useAlert&&(_useAlert=!1),MMJS.eventTracking.push(_msg),this.isAndroid()?null!=window.console&&window.console.log(_msg):this.isWindows()?window.external.notify(_msg):(null!=window.console&&window.console.log(_msg),_useAlert&&alert(_msg)),!1},MMJSUtils.iOSVersion=function(){var _v;return this.ios_version?this.ios_version:(_v=navigator.appVersion.split(" OS ")[1],_v=_v.split(" ")[0].trim().split("_"),_v.splice(1,0,"."),this.ios_version=parseFloat(_v.join("")))},MMJSUtils.getLocation=function(func,error){return navigator.geolocation?navigator.geolocation.getCurrentPosition(func,error,{enableHighAccuracy:!0}):error({code:99})},MMJSUtils.listenForBrowserReady=function(func){return this.isWindows()?document.attachEvent("onreadystatechange",func):document.addEventListener("DOMContentLoaded",func,!1)},MMJSUtils.postEvent=function(event){var evObj;return document.createEvent?(evObj=document.createEvent("Event"),evObj.initEvent(event,!0,!0),window.document.dispatchEvent(evObj)):document.createEventObject||this.isWindows()?document.body.fireEvent("on"+event):void 0},MMJSUtils.offset=function(_el){var coords,p_coords;return coords=[_el.offsetLeft,_el.offsetTop],null!=_el.offsetParent&&(p_coords=this.offset(_el.offsetParent),coords[0]+=p_coords[0],coords[1]+=p_coords[1]),coords},MMJSUtils}(),MMJS=function(){function MMJS(){}return MMJS.VERSION="1.3",MMJS.commandQueue=[],MMJS.androidInterface=window["interface"],MMJS.utils=MMJSUtils,MMJS.sdkReady=!1,MMJS.executingCommand=!1,MMJS.executingCommandDelay=0,MMJS.params=null,MMJS.platform=null,MMJS.callbacks={},MMJS.listeners={},MMJS.sdkVersion=null,MMJS.openCalled=!1,MMJS.TYPE_STRING="string",MMJS.TYPE_OBJECT=typeof[],MMJS.TYPE_FUNCTION="function",MMJS.TYPE_NUMBER="number",MMJS.TYPE_UNDEFINED="undefined",MMJS.eventTracking=[],MMJS.setExecutingCommand=function(_executing,_time){return null==_time&&(_time=1e4),this.logCallstack(),this.executingCommand=_executing},MMJS.logCallstack=function(){var callstack,currentFunction,fn,fname;for(callstack=[],currentFunction=arguments.callee.caller;currentFunction;)fn=currentFunction.toString(),fname=fn.substring(fn.indexOf("function")+8,fn.indexOf(""))||"anonymous",callstack.push(fname),currentFunction=currentFunction.caller;return MMJS.utils.consoleLog(callstack)},MMJS.debug=function(){var toLog;return toLog=this.eventTracking.join("\n"),console.log(toLog),!0},MMJS.setSDKVersion=function(version){return this.sdkVersion=version},MMJS.mmsdkOpenFunction=null,MMJS.shouldOpenWasCalled=!1,MMJS.setupOverlay=function(url,params){return null==params&&(params={}),this.open(url,params,!1)},MMJS.open=function(url,params,autoExpand){return null==params&&(params={}),null==autoExpand&&(autoExpand=!0),mraid.setExpandProperties(params),mraid.expand(url)},MMJS.close=function(duration){var modDuration;return null==duration&&(duration=0),modDuration=function(duration){return 100>duration?1e3*duration:duration},setTimeout(function(){return MMJS.interstitial.close()},modDuration(duration))},MMJS.openExternal=function(url){return this.utils.isBridgeEnabled()?MMDevice.openUrl(url):window.location=this.utils.isIOS()?"mmbrowser:://"+url:"mmbrowser://"+url},MMJS.removeEventListener=function(event){return delete this.listeners[event]},MMJS.addEventListener=function(event,listener){return this.listeners[event]=listener},MMJS.enqueueCommand=function(command){return this.commandQueue.push(command),this.utils.consoleLog("commandQueue "+MMJS.commandQueue)},MMJS.callback=function(response){var klass,klassFunction,method,response_data,result;return result=response.result,method=response.call,response_data=response.response,klass=response["class"],klassFunction=window[klass],typeof klassFunction===this.TYPE_FUNCTION?klassFunction(method,response_data,result):void 0},MMJS}(),MMSDKInterface=function(){function MMSDKInterface(){this.state="loading",this.isReady=!1,this.adProperties=void 0,this.viewable=!1,this.placementType="unknown",this.adSize={},this.defaultPosition=void 0,this.utils=MMJS.utils,this.speechResults=null,this.speechStatus="unknown",this.speechAudioLevel=0,this.speechBackgroundAudioLevel=0,this.audioPosition=0,this.microphoneState="ready",this.microphoneAudioLevel=0}return MMSDKInterface.prototype.setAdSize=function(_properties){return this.utils.consoleLog("mm.coffee MMSDKInterface setAdSize _properties="+JSON.stringify(_properties)),this.utils.consoleLog("mm.coffee MMSDKInterface setAdSize getState="+this.state),this.adSize?this.adSize.height!==_properties.height||this.adSize.width!==_properties.width?(this.adSize=_properties,MMJS.listenerManager.fireEventCallbacks("sizeChange",_properties.width,_properties.height)):void 0:this.adSize=_properties},MMSDKInterface.prototype.setMaxSize=function(_maxSize){return this.utils.consoleLog("mm.coffee MMSDKInterface setMaxSize _maxSize="+JSON.stringify(_maxSize)),this.adProperties?(this.utils.consoleLog("Setting maxSize"),this.adProperties.maxSize=_maxSize):void 0},MMSDKInterface.prototype.setScreenSize=function(_screenSize){return this.utils.consoleLog("mm.coffee MMSDKInterface setScreenSize _screenSize="+JSON.stringify(_screenSize)),this.adProperties?(this.utils.consoleLog("Setting screenSize"),this.adProperties.screen=_screenSize):void 0},MMSDKInterface.prototype.setAdProperties=function(_adProperties){return this.utils.consoleLog("setAdProperties: "+JSON.stringify(_adProperties)),this.adProperties=_adProperties,null!=this.adProperties&&(null!=this.adProperties.ad&&(this.adSize=this.adProperties.ad,this.defaultPosition=JSON.parse(JSON.stringify(this.adProperties.ad))),null!=this.adProperties.device&&MMJS.device.setInfo(this.adProperties.device),null!=this.adProperties.supports)?this.supportProperties=this.adProperties.supports:void 0},MMSDKInterface.prototype.setPlacementType=function(placementType){this.placementType=placementType},MMSDKInterface.prototype.setState=function(_state){return this.state!==_state?(this.utils.consoleLog('MRAID state change from "'+this.state+'" to "'+_state+'"'),this.state=_state,MMJS.listenerManager.fireEventCallbacks("stateChange",_state)):void 0},MMSDKInterface.prototype.setViewable=function(_visible){return this.viewable!==_visible?(this.utils.consoleLog("MRAID viewable change: visible = "+_visible),this.viewable=_visible,MMJS.listenerManager.fireEventCallbacks("viewableChange",_visible)):void 0},MMSDKInterface.prototype.ready=function(){return"loading"!==this.state&&this.isReady===!1?(this.utils.consoleLog("MRAID ready."),this.utils.postEvent("sdkready"),this.isReady=!0,MMJS.listenerManager.fireEventCallbacks("ready")):void 0},MMSDKInterface.prototype.error=function(message,action){return MMJS.listenerManager.fireEventCallbacks("error",message,action)},MMSDKInterface.prototype.voiceStateChange=function(_status){return this.speechStatus=_status,MMJS.listenerManager.fireEventCallbacks("voiceStateChange",_status)},MMSDKInterface.prototype.audioLevelChange=function(_audioLevel){return this.speechAudioLevel=_audioLevel,MMJS.listenerManager.fireEventCallbacks("audioLevelChange",_audioLevel)},MMSDKInterface.prototype.recognitionResult=function(_results){return this.speechResults=_results,MMJS.listenerManager.fireEventCallbacks("recognitionResult",_results)},MMSDKInterface.prototype.voiceError=function(_error){return MMJS.listenerManager.fireEventCallbacks("voiceError",_error)},MMSDKInterface.prototype.backgroundAudioLevel=function(_backgroundAudioLevel){return this.speechBackgroundAudioLevel=_backgroundAudioLevel,MMJS.listenerManager.fireEventCallbacks("backgroundAudioLevel",_backgroundAudioLevel)},MMSDKInterface.prototype.audioCached=function(){return MMJS.listenerManager.fireEventCallbacks("audioCached")},MMSDKInterface.prototype.audioStarted=function(){return MMJS.listenerManager.fireEventCallbacks("audioStarted")},MMSDKInterface.prototype.audioPositionChange=function(_position){return this.audioPosition=_position,MMJS.listenerManager.fireEventCallbacks("audioPositionChange",_position)},MMSDKInterface.prototype.audioCompleted=function(){return MMJS.listenerManager.fireEventCallbacks("audioCompleted")},MMSDKInterface.prototype.customVoiceWordsAdded=function(){return MMJS.listenerManager.fireEventCallbacks("customVoiceWordsAdded")},MMSDKInterface.prototype.customVoiceWordsDeleted=function(){return MMJS.listenerManager.fireEventCallbacks("customVoiceWordsDeleted")},MMSDKInterface.prototype.microphoneStateChange=function(_mpState){return this.microphoneState=_mpState,MMJS.listenerManager.fireEventCallbacks("microphoneStateChange",_mpState)},MMSDKInterface.prototype.microphoneAudioLevelChange=function(_mpaudioLevel){return this.microphoneAudioLevel=_mpaudioLevel,MMJS.listenerManager.fireEventCallbacks("microphoneAudioLevelChange",_mpaudioLevel)},MMSDKInterface}(),MMListenerManager=function(){function MMListenerManager(){this.listeners={},this.utils=MMJS.utils}return MMListenerManager.prototype.removeEventListener=function(event,listener){var index;return null!=this.listeners[event]?null!=listener?(index=this.listeners[event].indexOf(listener),0>index?(this.utils.consoleLog("Listner not found!"),!1):(this.utils.consoleLog("'"+event+"' found listener: "+listener),this.listeners[event].splice(index,1),this.utils.consoleLog("'"+event+"' listeners: "+this.listeners[event]))):delete this.listeners[event]:void 0},MMListenerManager.prototype.addEventListener=function(event,listener){var index;return null==this.listeners[event]&&(this.listeners[event]=[]),index=this.listeners[event].indexOf(listener),index>-1?void this.utils.consoleLog("'"+event+"' listener already existed, not adding again listener:"+listener):(this.utils.consoleLog("'"+event+"' added listener: "+listener),this.listeners[event].push(listener),this.utils.consoleLog("'"+event+"' listeners: "+this.listeners[event]))},MMListenerManager.prototype.fireEventCallbacks=function(eventName,parameter,action){var callback,_i,_len,_ref;if(this.utils.consoleLog("event callback: "+eventName),null!=this.listeners[eventName])for(_ref=this.listeners[eventName],_i=0,_len=_ref.length;_len>_i;_i++)callback=_ref[_i],null!=parameter?null!=action?callback(parameter,action):callback(parameter):callback()},MMListenerManager}(),MMCommand=function(){function MMCommand(command,params){var func,functionName,name,query_args,timestamp,url;if(this.utils=MMJS.utils,this.platform=this.utils.getPlatform(),this.command=command,url="mmsdk://"+command+"/",null!=params){query_args=[],timestamp=(new Date).getTime(),func=params.callback,functionName=this.command.replace(".","_")+"_"+timestamp,MMJS.utils.consoleLog("command: "+command+"Callback function: "+func),MMJS.utils.consoleLog("command: "+command+" params "+JSON.stringify(params)),MMJS.utils.consoleLog("Callback function: "+typeof func),typeof func===MMJS.TYPE_STRING?window.MMJS.callbacks[functionName]=function(response){var aFunc,context,i,namespaces;for(MMJS.utils.consoleLog("executing string function callback: "+functionName),null!=response&&(response.data=response.response),namespaces=func.split("."),aFunc=namespaces.pop(),i=0,context=window;i<namespaces.length;)MMJS.utils.consoleLog("namespace: "+namespaces[i]),context=context[namespaces[i]],i++;return MMJS.utils.consoleLog("aFunc: "+aFunc),MMJS.utils.consoleLog("context: "+context),context[aFunc](response),MMJS.setExecutingCommand(!1)}:typeof func===MMJS.TYPE_FUNCTION?window.MMJS.callbacks[functionName]=function(response){return null!=response&&(response.data=response.response,response.result=parseInt(response.result)),func(response),MMJS.setExecutingCommand(!1)}:typeof func===MMJS.TYPE_UNDEFINED&&(window.MMJS.callbacks[functionName]=function(){return MMJS.utils.consoleLog("executing undefined callback: "+functionName),MMJS.utils.consoleLog("no callback was specified"),MMJS.setExecutingCommand(!1)}),params.callback="MMJS.callbacks."+functionName,this.callback=params.callback;for(name in params)typeof name===MMJS.TYPE_STRING&&void 0!==params[name]&&null!==params[name]&&query_args.push(encodeURIComponent(name)+"="+encodeURIComponent(params[name]));query_args.length>0&&(url+="?"+query_args.join("&"))}MMJS.utils.consoleLog(url),this.url=url}return MMCommand.url=null,MMCommand.platform=null,MMCommand.command=null,MMCommand.callback=null,MMCommand.prototype.perform=function(){var iframe;return this.utils.consoleLog("perform platform:  "+this.platform),this.utils.consoleLog("current window.location:  "+window.location),MMJS.executingCommand=!0,this.utils.consoleLog("window.location:  "+this.url),this.utils.consoleLog("Setting executingCommand = true:  "),iframe=document.createElement("IFRAME"),iframe.setAttribute("src",this.url),document.documentElement.appendChild(iframe),iframe.parentNode.removeChild(iframe),iframe=null},MMCommand}(),MMBridgeObject=function(){function MMBridgeObject(){var m;this.utils=MMJS.utils,m=this.constructor.toString().match(/^\s*function\s+([^\s\(]+)/),m&&(this.className=m[1])}return MMBridgeObject.className=null,MMBridgeObject.prototype.enqueue=function(method,params){return MMJS.enqueueCommand(new MMCommand(this.className+"."+method,params)),!0},MMBridgeObject}(),MMDevice=function(_super){function MMDevice(){return _ref=MMDevice.__super__.constructor.apply(this,arguments)}return __extends(MMDevice,_super),MMDevice.loadState="standby",MMDevice.loadTimeout=0,MMDevice.connection=null,MMDevice.prototype.setNetworkConnection=function(network){return this.connection=network},MMDevice.prototype.setInfo=function(info){var evt,key,value;for(key in info)value=info[key],this[key]=value;return MMDevice.loadState="loaded",this.utils.isWindows()||(evt="deviceLoaded",this.utils.postEvent(evt),evt="deviceloaded",this.utils.postEvent(evt)),!0},MMDevice.prototype.getInfo=function(callback){return MMDevice.loadState="loading",this.enqueue("getInfo",{callback:callback})},MMDevice.prototype.setMMDID=function(mmdid,callback){return this.enqueue("setMMDID",{mmdid:mmdid,callback:callback})},MMDevice.prototype.getAvailableSchemes=function(callback){return this.enqueue("getAvailableSchemes",{callback:callback})},MMDevice.prototype.isSchemeAvailable=function(scheme,callback){return this.enqueue("isSchemeAvailable",{scheme:scheme,callback:callback})},MMDevice.prototype.getAvailableSchemes=function(callback){return this.enqueue("getAvailableSchemes",{callback:callback})},MMDevice.prototype.getOrientation=function(callback){return this.enqueue("getOrientation",{callback:callback})},MMDevice.prototype.getLocation=function(callback){return this.enqueue("getLocation",{callback:callback})},MMDevice.prototype.showMap=function(location,callback){return this.enqueue("showMap",{location:location,callback:callback})},MMDevice.prototype.call=function(number,dial,callback){return this.enqueue("call",{number:number,callback:callback,dial:dial})},MMDevice.prototype.openUrl=function(url,callback){return this.enqueue("openUrl",{url:url,callback:callback})},MMDevice.prototype.openAppStore=function(appId,callback){return this.enqueue("openAppStore",{appId:appId,callback:callback})},MMDevice.prototype.composeSMS=function(number,message,callback){return this.composeSms(number,message,callback)},MMDevice.prototype.composeSms=function(number,message,callback){return this.utils.isIOS()?this.enqueue("composeSms",{number:number,message:message,callback:callback}):this.enqueue("composeSms",{number:number,message:message,callback:callback})},MMDevice.prototype.composeEmail=function(recipient,subject,message,callback){return this.utils.isIOS()?this.openUrl("mailto:?to="+encodeURIComponent(recipient)+"&subject="+encodeURIComponent(subject)+"&body="+encodeURIComponent(message),callback):this.enqueue("composeEmail",{recipient:recipient,subject:subject,message:message,callback:callback})},MMDevice.prototype.getCompassHeading=function(callback){return this.enqueue("getCompassHeading",{callback:callback})},MMDevice.prototype.getBarometer=function(callback){return this.enqueue("getBarometer",{callback:callback})},MMDevice.prototype.enableHardwareAcceleration=function(enabled,callback){return this.enqueue("enableHardwareAcceleration",{enabled:enabled,callback:callback})},MMDevice}(MMBridgeObject),MMMedia=function(_super){function MMMedia(){return _ref1=MMMedia.__super__.constructor.apply(this,arguments)}return __extends(MMMedia,_super),MMMedia.prototype.openFrontCamera=function(constrainWidth,constrainHeight,contentMode,callback){return this.enqueue("getPicture",{sourceType:"Camera",constrainWidth:constrainWidth,constrainHeight:constrainHeight,contentMode:contentMode,front:!0,callback:callback})},MMMedia.prototype.openRearCamera=function(constrainWidth,constrainHeight,contentMode,callback){return this.enqueue("getPicture",{sourceType:"Camera",constrainWidth:constrainWidth,constrainHeight:constrainHeight,contentMode:contentMode,front:!1,callback:callback})},MMMedia.prototype.getPicture=function(sourceType,constrainWidth,constrainHeight,contentMode,callback){return this.enqueue("getPicture",{sourceType:sourceType,constrainWidth:constrainWidth,constrainHeight:constrainHeight,contentMode:contentMode,callback:callback})},MMMedia.prototype.writeToPhotoLibrary=function(path,title,description,callback){return this.enqueue("writeToPhotoLibrary",{path:path,title:title,description:description,callback:callback})},MMMedia.prototype.isSourceTypeAvailable=function(sourceType,callback){return this.enqueue("isSourceTypeAvailable",{sourceType:sourceType,callback:callback})},MMMedia.prototype.availableSourceTypes=function(callback){return this.enqueue("availableSourceTypes",{callback:callback})},MMMedia.prototype.playVideo=function(path,callback){return this.enqueue("playVideo",{path:path,callback:callback})},MMMedia.prototype.getDeviceVolume=function(callback){return this.enqueue("getDeviceVolume",{callback:callback})},MMMedia}(MMBridgeObject),MMCalendar=function(_super){function MMCalendar(){return _ref2=MMCalendar.__super__.constructor.apply(this,arguments)}return __extends(MMCalendar,_super),MMCalendar.prototype.addEvent=function(parameters,callback){return this.enqueue("addEvent",{parameters:JSON.stringify(parameters),callback:callback})},MMCalendar}(MMBridgeObject),MMBanner=function(_super){function MMBanner(){return _ref3=MMBanner.__super__.constructor.apply(this,arguments)}return __extends(MMBanner,_super),MMBanner.prototype.resize=function(parameters,callback){return parameters.callback=callback,this.enqueue("resize",parameters)},MMBanner}(MMBridgeObject),MMNotification=function(_super){function MMNotification(){return _ref4=MMNotification.__super__.constructor.apply(this,arguments)}return __extends(MMNotification,_super),MMNotification.prototype.alert=function(title,message,cancelButton,buttons,callback){var params;return params={title:title,message:message,cancelButton:cancelButton,callback:callback},null!=buttons&&""!==buttons&&null!==buttons&&(params.buttons=buttons),this.enqueue("alert",params)},MMNotification.prototype.vibrate=function(duration,callback){return this.enqueue("vibrate",{duration:duration,callback:callback})},MMNotification}(MMBridgeObject),MMInlineVideo=function(_super){function MMInlineVideo(){return _ref5=MMInlineVideo.__super__.constructor.apply(this,arguments)}return __extends(MMInlineVideo,_super),MMInlineVideo.prototype.updateVideoSeekTime=function(currentSeekTime){return null!=this.timingCallback?this.timingCallback(currentSeekTime):void 0},MMInlineVideo.prototype.setTimingCallback=function(_timingCallback){return this.timingCallback=_timingCallback},MMInlineVideo.prototype.playVideo=function(callback){return this.enqueue("playVideo",{callback:callback})},MMInlineVideo.prototype.stopVideo=function(callback){return this.enqueue("stopVideo",{callback:callback})},MMInlineVideo.prototype.pauseVideo=function(callback){return this.enqueue("pauseVideo",{callback:callback})},MMInlineVideo.prototype.resumeVideo=function(callback){return this.enqueue("resumeVideo",{callback:callback})},MMInlineVideo.prototype.removeVideo=function(callback){return this.enqueue("removeVideo",{callback:callback})},MMInlineVideo.prototype.setStreamVideoSource=function(streamVideoURI,callback){return this.enqueue("setStreamVideoSource",{streamVideoURI:streamVideoURI,callback:callback})},MMInlineVideo.prototype.adjustVideo=function(callback){return this.adjustVideoWithId("inlineVideo",callback)},MMInlineVideo.prototype.adjustVideoWithId=function(divId,callback){var frame,videoEl;return videoEl=document.getElementById(divId),null!=videoEl?(frame=this.calculateDivPosition(divId),frame.callback=callback,this.enqueue("adjustVideo",frame)):callback({result:0,response:"Div Id not found","class":"MMInlineVideo",call:"insertVideo"})},MMInlineVideo.prototype.insertVideoWithId=function(divId,timingCallback,callback){var autoPlay,bodyHeight,bodyWidth,cachedVideoID,cachedVideoURI,frame,height,showControls,streamVideoURI,touchCallback,videoEl,width,x,y;return videoEl=document.getElementById(divId),null!=videoEl?(frame=this.calculateDivPosition(divId),null!=timingCallback&&this.setTimingCallback(timingCallback),x=frame.x,y=frame.y,width=frame.width,height=frame.height,bodyWidth=document.body.clientWidth,bodyHeight=document.body.clientHeight,cachedVideoURI=videoEl.getAttribute("cachedVideoURI"),cachedVideoID=videoEl.getAttribute("cachedVideoID"),touchCallback=videoEl.getAttribute("onTouch"),streamVideoURI=videoEl.getAttribute("streamVideoURI"),autoPlay=videoEl.getAttribute("autoPlay"),showControls=videoEl.getAttribute("showControls"),cachedVideoURI||streamVideoURI?this.enqueue("insertVideo",{x:x,y:y,width:width,height:height,bodyWidth:bodyWidth,bodyHeight:bodyHeight,cachedVideoURI:cachedVideoURI,streamVideoURI:streamVideoURI,touchCallback:touchCallback,cachedVideoID:cachedVideoID,autoPlay:autoPlay,showControls:showControls,callback:callback}):callback({result:0,response:"cachedVideoURI or streamVideoURI not found","class":"MMInlineVideo",call:"insertVideo"})):callback({result:0,response:"Div Id not found","class":"MMInlineVideo",call:"insertVideo"})},MMInlineVideo.prototype.insertVideo=function(timingCallback,callback){return this.insertVideoWithId("inlineVideo",timingCallback,callback)},MMInlineVideo.prototype.calculateDivPosition=function(divId){var divEl,height,position,width,x,y;return divEl=document.getElementById(divId),position=this.utils.offset(divEl),x=position[0],y=position[1],width=divEl.offsetWidth,height=divEl.offsetHeight,{x:x,y:y,width:width,height:height}},MMInlineVideo}(MMBridgeObject),MMCachedVideo=function(_super){function MMCachedVideo(){return _ref6=MMCachedVideo.__super__.constructor.apply(this,arguments)}return __extends(MMCachedVideo,_super),MMCachedVideo.timingCallback=null,MMCachedVideo.errorCallback=null,MMCachedVideo.prototype.updateVideoSeekTime=function(currentSeekTime){return null!=this.timingCallback?this.timingCallback(currentSeekTime):void 0},MMCachedVideo.prototype.setTimingCallback=function(timingCallback){return this.timingCallback=timingCallback},MMCachedVideo.prototype.setError=function(error){return null!=this.errorCallback?this.errorCallback(error):void 0},MMCachedVideo.prototype.setErrorCallback=function(errorCallback){return this.errorCallback=errorCallback},MMCachedVideo.prototype.restartVideo=function(callback){return this.enqueue("restartVideo",{callback:callback})},MMCachedVideo.prototype.endVideo=function(callback){return this.enqueue("endVideo",{callback:callback})},MMCachedVideo.prototype.pauseVideo=function(callback){return this.enqueue("pauseVideo",{callback:callback})},MMCachedVideo.prototype.playVideo=function(callback){return this.enqueue("playVideo",{callback:callback})},MMCachedVideo.prototype.availableCachedVideos=function(callback){return this.enqueue("availableCachedVideos",{callback:callback})},MMCachedVideo.prototype.playCachedVideo=function(videoId,callback){return this.enqueue("playCachedVideo",{videoId:videoId,callback:callback})},MMCachedVideo.prototype.cacheVideo=function(url,callback){return this.enqueue("cacheVideo",{url:url,callback:callback})},MMCachedVideo.prototype.videoIdExists=function(videoId,callback){return this.enqueue("videoIdExists",{videoId:videoId,callback:callback})},MMCachedVideo}(MMBridgeObject),MMInterstitial=function(_super){function MMInterstitial(){return _ref7=MMInterstitial.__super__.constructor.apply(this,arguments)}return __extends(MMInterstitial,_super),MMInterstitial.animationTypes={ios:["curl","flip","dissolve","slideup","none"],android:["slideup","slidedown","explode","none"],windows:["slideup","slidedown","explode","none"]},MMInterstitial.prototype.close=function(callback){return this.enqueue("close",{callback:callback})},MMInterstitial.prototype.open=function(url,callback){return this.enqueue("open",{url:url,callback:callback})},MMInterstitial.prototype.useCustomClose=function(useCustomClose,callback){return this.enqueue("useCustomClose",{useCustomClose:useCustomClose,callback:callback})},MMInterstitial.prototype.setOrientation=function(properties,callback){return properties.callback=callback,this.enqueue("setOrientation",properties)},MMInterstitial.prototype.expandToExternalBrowser=function(url,callback){return this.enqueue("expandToExternalBrowser",{url:url,callback:callback})},MMInterstitial.prototype.expandWithProperties=function(url,properties,callback){var key,params,transitionType,value;if(params={callback:callback},null!=url&&(params.url=url),MMJS.utils.consoleLog("expandWithProperties properties "+JSON.stringify(properties)),null!=properties)for(key in properties)__hasProp.call(properties,key)&&(value=properties[key],"transition"===key?(transitionType=value,params[key]=transitionType):params[key]=value);return this.enqueue("expandWithProperties",params)},MMInterstitial}(MMBridgeObject),MMBrand=function(_super){function MMBrand(){return _ref8=MMBrand.__super__.constructor.apply(this,arguments)}return __extends(MMBrand,_super),MMBrand.prototype.getInfo=function(callback){return this.enqueue("getInfo",{callback:callback})},MMBrand}(MMBridgeObject),MMAppStore=function(_super){function MMAppStore(){return _ref9=MMAppStore.__super__.constructor.apply(this,arguments)}return __extends(MMAppStore,_super),MMAppStore.prototype.loadApp=function(appId,callback){return this.enqueue("loadApp",{appId:appId,callback:callback})},MMAppStore}(MMBridgeObject),MMPassbook=function(_super){function MMPassbook(){return _ref10=MMPassbook.__super__.constructor.apply(this,arguments)}return __extends(MMPassbook,_super),MMPassbook.prototype.isPassbookAvailable=function(callback){return this.enqueue("isPassbookAvailable",{callback:callback})},MMPassbook.prototype.addPassFromURL=function(url,callback){return this.enqueue("addPassFromURL",{url:url,callback:callback})},MMPassbook.prototype.isPassInstalled=function(url,identifier,serial,callback){return null!=url?this.enqueue("isPassInstalled",{url:url,callback:callback}):this.enqueue("isPassInstalled",{identifier:identifier,serial:serial,callback:callback})},MMPassbook.prototype.isPassURLInstalled=function(url,callback){return this.isPassInstalled(url,null,null,callback)},MMPassbook.prototype.isPassIdentifierInstalled=function(identifier,serial,callback){return this.isPassInstalled(null,identifier,serial,callback)},MMPassbook}(MMBridgeObject),MMSocial=function(_super){function MMSocial(){return _ref11=MMSocial.__super__.constructor.apply(this,arguments)}return __extends(MMSocial,_super),MMSocial.prototype.tweet=function(message,callback){return this.enqueue("tweet",{message:message,callback:callback})},MMSocial.prototype.tweetWithContent=function(message,urls,images,callback){return this.enqueue("tweet",{message:message,urls:urls.join(","),images:images.join(","),callback:callback})},MMSocial.prototype.facebookPost=function(message,callback){return this.enqueue("facebookPost",{message:message,callback:callback})},MMSocial.prototype.facebookPostWithContent=function(message,urls,images,callback){return this.enqueue("facebookPost",{message:message,urls:urls.join(","),images:images.join(","),callback:callback})},MMSocial.prototype.authenticatedServices=function(callback){return this.enqueue("authenticatedServices",{callback:callback})},MMSocial}(MMBridgeObject),MMSpeechkit=function(_super){function MMSpeechkit(){return _ref12=MMSpeechkit.__super__.constructor.apply(this,arguments)
}return __extends(MMSpeechkit,_super),MMSpeechkit.prototype.startRecording=function(language,recognizer,endOfSpeech,callback){return this.enqueue("startRecording",{language:language,recognizer:recognizer,endOfSpeech:endOfSpeech,callback:callback})},MMSpeechkit.prototype.endRecording=function(callback){return this.enqueue("endRecording",{callback:callback})},MMSpeechkit.prototype.sampleBackgroundAudioLevel=function(callback){return this.enqueue("sampleBackgroundAudioLevel",{callback:callback})},MMSpeechkit.prototype.textToSpeech=function(language,text,callback){return this.enqueue("textToSpeech",{language:language,text:text,callback:callback})},MMSpeechkit.prototype.releaseVoice=function(callback){return MMJS.sdk.speechResults=[],MMJS.sdk.speechAudioLevel=0,MMJS.sdk.speechBackgroundAudioLevel=0,MMJS.sdk.speechStatus="Released",this.enqueue("releaseVoice",{callback:callback})},MMSpeechkit.prototype.cacheAudio=function(url,callback){return this.enqueue("cacheAudio",{url:url,callback:callback})},MMSpeechkit.prototype.playAudio=function(url,properties,callback){return properties.url=url,properties.callback=callback,this.enqueue("playAudio",properties)},MMSpeechkit.prototype.stopAudio=function(callback){return this.enqueue("stopAudio",{callback:callback})},MMSpeechkit.prototype.addCustomVoiceWords=function(words,callback){return this.enqueue("addCustomVoiceWords",{words:words,callback:callback})},MMSpeechkit.prototype.deleteCustomVoiceWords=function(words,callback){return this.enqueue("deleteCustomVoiceWords",{words:words,callback:callback})},MMSpeechkit.prototype.getSessionId=function(callback){return this.enqueue("getSessionId",{callback:callback})},MMSpeechkit.prototype.getRecognitionResults=function(){return MMJS.sdk.speechResults},MMSpeechkit.prototype.getBackgroundNoiseLevel=function(){return MMJS.sdk.speechBackgroundAudioLevel},MMSpeechkit.prototype.getAudioLevel=function(){return MMJS.sdk.speechAudioLevel},MMSpeechkit.prototype.getVoiceState=function(){return MMJS.sdk.speechStatus},MMSpeechkit.prototype.getAudioPosition=function(){return MMJS.sdk.audioPosition},MMSpeechkit}(MMBridgeObject),MRAID=function(_super){function MRAID(){this.sdk=MMJS.sdk,this.utils=MMJS.utils,this.properties={width:null,height:null,useCustomClose:!1,isModal:!0},this.orientationProperties={allowOrientationChange:!0,forceOrientation:"none"},this.resizeProperties={width:null,height:null,customClosePosition:"top-right",offsetX:0,offsetY:0,allowOffscreen:!0},this.audioProperties={loop:!1,controls:!1}}return __extends(MRAID,_super),MRAID.prototype.getAdSize=function(){return null!=this.sdk.adSize&&(this.utils.consoleLog("MRAID getAdSize "+JSON.stringify(this.sdk.adSize)),this.sdk.adSize.height>0&&this.sdk.adSize.width>0)?this.sdk.adSize:null},MRAID.prototype.callbackManager=function(response){var klass,method,response_data,result;return result=response.result,method=response.call,response_data=response.response,klass=response["class"],this},MRAID.prototype.getVersion=function(){return"2.0"},MRAID.prototype.close=function(){return MMJS.interstitial.close(function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("error","Close failed","close"):void 0})},MRAID.prototype.expand=function(_url){var k,maxSize,props,v,_ref13;this.utils.consoleLog("mraid.expand called with properties: "+JSON.stringify(this.getExpandProperties())),this.utils.consoleLog("mraid.expand url: "+_url),props=this.getExpandProperties(),maxSize=this.getMaxSize(),null!=props&&null!=maxSize&&props.height===maxSize.height&&props.width===maxSize.width&&(props.height=void 0,props.width=void 0),_ref13=this.orientationProperties;for(k in _ref13)v=_ref13[k],props[k]=v;return MMJS.interstitial.expandWithProperties(_url,props,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("error","Expand failed","expand"):void 0})},MRAID.prototype.open=function(_url){return MMJS.interstitial.open(_url,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("error","Open failed to open external url","open"):void 0})},MRAID.prototype.getExpandProperties=function(){var maxSize;return maxSize=this.getMaxSize(),null!=maxSize?((null===this.properties.height||void 0===this.properties.height)&&(this.properties.height=maxSize.height),(null===this.properties.width||void 0===this.properties.width)&&(this.properties.width=maxSize.width),this.properties):MMJS.listenerManager.fireEventCallbacks("error","getExpandProperties failed","getExpandProperties")},MRAID.prototype.setExpandProperties=function(_properties){return this.utils.consoleLog("setExpandProperties: "+JSON.stringify(this.properties)),this.properties=_properties},MRAID.prototype.getPlacementType=function(){return this.sdk.placementType},MRAID.prototype.getState=function(){return this.sdk.state},MRAID.prototype.useCustomClose=function(_customClose){return this.properties.useCustomClose=_customClose,this.utils.consoleLog("Use Custom Close was called: "+_customClose),MMJS.interstitial.useCustomClose(_customClose,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("error","Use custom close failed to set","useCustomClose"):void 0})},MRAID.prototype.isViewable=function(){return this.sdk.viewable},MRAID.prototype.removeEventListener=function(event,listener){return MMJS.listenerManager.removeEventListener(event,listener)},MRAID.prototype.addEventListener=function(event,listener){return MMJS.listenerManager.addEventListener(event,listener)},MRAID.prototype.fireEventCallbacks=function(eventName,parameter,action){return MMJS.listenerManager.fireEventCallbacks(eventName,parameter,action)},MRAID.prototype.resize=function(){var calledresizeProperties,maxSize;return maxSize=this.getMaxSize(),calledresizeProperties=this.getResizeProperties(),calledresizeProperties.allowOffscreen===!1&&(calledresizeProperties.width>maxSize.width||calledresizeProperties.height>maxSize.height)?void this.fireEventCallbacks("error","Resize is unsupported in this application.","resize"):(MMJS.banner.resize(calledresizeProperties,function(response){return response.result<1?mraid.fireEventCallbacks("error","Resize is unsupported in this application.","resize"):void 0}),null)},MRAID.prototype.getResizeProperties=function(){var adSize;return adSize=this.getAdSize(),null!=adSize?(MMJS.utils.consoleLog("Ad Size was found"),null===this.resizeProperties.height&&(this.resizeProperties.height=adSize.height),null===this.resizeProperties.width&&(this.resizeProperties.width=adSize.width),this.resizeProperties):(MMJS.utils.consoleLog("getResizeProperties failed"),MMJS.listenerManager.fireEventCallbacks("error","Resize is unsupported in this application.","resize"))},MRAID.prototype.setResizeProperties=function(_properties){return this.resizeProperties=_properties},MRAID.prototype.getCurrentPosition=function(){return this.sdk.adSize},MRAID.prototype.getMaxSize=function(){return null!=this.sdk.adProperties.maxSize?{height:this.sdk.adProperties.maxSize.height,width:this.sdk.adProperties.maxSize.width}:(MMJS.listenerManager.fireEventCallbacks("error","getResizeProperties failed","getResizeProperties"),null)},MRAID.prototype.getDefaultPosition=function(){return this.sdk.defaultPosition},MRAID.prototype.getScreenSize=function(){return MMJS.utils.consoleLog("getScreenSize: "+this.sdk.adProperties.screen),null!=this.sdk.adProperties.screen?this.sdk.adProperties.screen:(this.fireEventCallbacks("error","Screen size is unavailable","getScreenSize"),null)},MRAID.prototype.supports=function(feature){return null!=feature?this.sdk.supportProperties[feature]:this.sdk.supportProperties},MRAID.prototype.storePicture=function(URI){return MMJS.media.writeToPhotoLibrary(URI,"","",function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("error","Error storing picture","storePicture"):void 0})},MRAID.prototype.createCalendarEvent=function(parameters){return MMJS.calendar.addEvent(parameters,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("error","Error adding calendar event","createCalendarEvent"):void 0})},MRAID.prototype.playVideo=function(URI){return MMJS.media.playVideo(URI,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("error","Error playing video","playVideo"):void 0})},MRAID.prototype.getOrientationProperties=function(){return this.orientationProperties},MRAID.prototype.setOrientationProperties=function(properties){return this.orientationProperties=properties,"expanded"===this.getState()&&"inline"===this.getPlacementType()||"interstitial"===this.getPlacementType()?MMJS.interstitial.setOrientation(this.orientationProperties,"mraid.callbackManager"):void 0},MRAID.prototype.startRecording=function(languageCode){return MMJS.speechkit.startRecording(languageCode,"dictation","short",function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Start recording failed","startRecording"):void 0})},MRAID.prototype.endRecording=function(){return MMJS.speechkit.endRecording(function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","End recording failed","endRecording"):void 0})},MRAID.prototype.textToSpeech=function(text,languageCode){return MMJS.speechkit.textToSpeech(languageCode,text,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Text to Speech failed","textToSpeech"):void 0})},MRAID.prototype.playAudio=function(url,options){return null!=options&&(options.loop=this.audioProperties.loop,options.controls=this.audioProperties.controls),MMJS.speechkit.playAudio(url,this.audioProperties,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Playing audio failed","playAudio"):void 0})},MRAID.prototype.stopAudio=function(){return MMJS.speechkit.stopAudio(function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Stop playing audio failed","stopAudio"):void 0})},MRAID.prototype.cacheAudio=function(url){return MMJS.speechkit.cacheAudio(url,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Audio caching failed","cacheAudio"):void 0})},MRAID.prototype.sampleBackgroundAudioLevel=function(){return MMJS.speechkit.sampleBackgroundAudioLevel(function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Sampling of background audio failed","sampleBackgroundAudioLevel"):void 0})},MRAID.prototype.releaseVoice=function(){return MMJS.speechkit.releaseVoice(function(){})},MRAID.prototype.addCustomVoiceWords=function(words){return MMJS.speechkit.addCustomVoiceWords(words,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Adding custom words failed","addCustomVoiceWords"):void 0})},MRAID.prototype.deleteCustomVoiceWords=function(words){return MMJS.speechkit.deleteCustomVoiceWords(words,function(response){return response.result<1?MMJS.listenerManager.fireEventCallbacks("voiceError","Deleting custom words failed","deleteCustomVoiceWords"):void 0})},MRAID.prototype.getRecognitionResults=function(){return MMJS.speechkit.getRecognitionResults()},MRAID.prototype.getAudioLevel=function(){return MMJS.speechkit.getAudioLevel()},MRAID.prototype.getVoiceState=function(){return MMJS.speechkit.getVoiceState()},MRAID.prototype.getAudioPosition=function(){return MMJS.speechkit.getAudioPosition()},MRAID}(MMBridgeObject),function(){return typeof MMJS.sdk===MMJS.TYPE_UNDEFINED&&(MMJS.sdk=new MMSDKInterface),typeof MMJS.device===MMJS.TYPE_UNDEFINED&&(MMJS.device=new MMDevice),typeof MMJS.media===MMJS.TYPE_UNDEFINED&&(MMJS.media=new MMMedia),typeof MMJS.notification===MMJS.TYPE_UNDEFINED&&(MMJS.notification=new MMNotification),typeof MMJS.interstitial===MMJS.TYPE_UNDEFINED&&(MMJS.interstitial=new MMInterstitial),typeof MMJS.cachedVideo===MMJS.TYPE_UNDEFINED&&(MMJS.cachedVideo=new MMCachedVideo),typeof MMJS.brand===MMJS.TYPE_UNDEFINED&&(MMJS.brand=new MMBrand),typeof MMJS.inlineVideo===MMJS.TYPE_UNDEFINED&&(MMJS.inlineVideo=new MMInlineVideo),typeof MMJS.social===MMJS.TYPE_UNDEFINED&&(MMJS.social=new MMSocial),typeof MMJS.passbook===MMJS.TYPE_UNDEFINED&&(MMJS.passbook=new MMPassbook),typeof MMJS.calendar===MMJS.TYPE_UNDEFINED&&(MMJS.calendar=new MMCalendar),typeof MMJS.banner===MMJS.TYPE_UNDEFINED&&(MMJS.banner=new MMBanner),typeof MMJS.appstore===MMJS.TYPE_UNDEFINED&&(MMJS.appstore=new MMAppStore),MMJS.appStore=MMJS.appstore,typeof MMJS.listenerManager===MMJS.TYPE_UNDEFINED&&(MMJS.listenerManager=new MMListenerManager),typeof MMJS.speechkit===MMJS.TYPE_UNDEFINED&&(MMJS.speechkit=new MMSpeechkit),typeof window.MMSDK===MMJS.TYPE_UNDEFINED&&(window.MMSDK=MMJS),typeof MMSDK.sdk===MMJS.TYPE_UNDEFINED&&(MMSDK.sdk=MMJS.sdk),typeof MMSDK.device===MMJS.TYPE_UNDEFINED&&(MMSDK.device=MMJS.device),typeof MMSDK.media===MMJS.TYPE_UNDEFINED&&(MMSDK.media=MMJS.media),typeof MMSDK.notification===MMJS.TYPE_UNDEFINED&&(MMSDK.notification=MMJS.notification),typeof MMSDK.interstitial===MMJS.TYPE_UNDEFINED&&(MMSDK.interstitial=MMJS.interstitial),typeof MMJS.cachedVideo===MMJS.TYPE_UNDEFINED&&(MMSDK.cachedVideo=MMJS.cachedVideo),typeof MMSDK.brand===MMJS.TYPE_UNDEFINED&&(MMSDK.brand=MMJS.brand),typeof MMSDK.inlineVideo===MMJS.TYPE_UNDEFINED&&(MMSDK.inlineVideo=MMJS.inlineVideo),typeof MMSDK.social===MMJS.TYPE_UNDEFINED&&(MMSDK.social=MMJS.social),typeof MMSDK.passbook===MMJS.TYPE_UNDEFINED&&(MMSDK.passbook=MMJS.passbook),typeof MMSDK.calendar===MMJS.TYPE_UNDEFINED&&(MMSDK.calendar=MMJS.calendar),typeof MMSDK.banner===MMJS.TYPE_UNDEFINED&&(MMSDK.banner=MMJS.banner),typeof MMSDK.appstore===MMJS.TYPE_UNDEFINED&&(MMSDK.appstore=MMJS.appstore),MMSDK.appStore=MMJS.appstore,typeof MMSDK.speechkit===MMJS.TYPE_UNDEFINED&&(MMSDK.speechkit=MMJS.speechkit),typeof window.mraid===MMJS.TYPE_UNDEFINED&&(window.mraid=new MRAID),typeof window.MM===MMJS.TYPE_UNDEFINED?window.MM=MMJS:void 0}(),MMJS.utils.listenForBrowserReady(function(){var timer;return timer=setInterval(function(){var command,e;if("loading"!==MMJS.sdk.state&&MMJS.executingCommand===!1&&MMJS.commandQueue.length>0&&0===MMJS.executingCommandDelay){command=MMJS.commandQueue.shift(),MMJS.utils.consoleLog("running command: "+command.url);try{return command.perform()}catch(_error){return e=_error,MMJS.utils.consoleLog("Failed to run command: "+e.messagealert)}}},1)}()));